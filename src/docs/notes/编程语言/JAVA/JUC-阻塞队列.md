---
title: JUC-阻塞队列
article: false
category:
  - Java
  - JUC
---
## 阻塞队列(BlockingQueue)
- JUC的`BlockingQueue`很好的解决了多线程中，如何高效安全“传输”数据的问题。通过这些高效并且线程安全的队列类，为我们快速搭建高质量的多线程程序带来极大的便利。
- 阻塞队列，通过一个共享的队列，可以使得数据由队列的一端输入，从另外一端输出；
  - 当队列是空的，从队列中获取元素的线程将会被阻塞(挂起线程)，直到其他线程往空的队列插入新的元素，被阻塞的线程被自动唤醒
  - 当队列是满的，从队列中添加元素的线程将会被阻塞(挂起线程)，直到其他线程从队列中移除一个或多个元素或者完全清空，被阻塞的线程被自动唤醒
### 实际应用
- 多线程环境中，通过队列可以很容易实现数据共享，比如经典的“生产者”和 “消费者”模型中，通过队列可以很便利地实现两者之间的数据共享。假设我 们有若干生产者线程，另外又有若干个消费者线程。如果生产者线程需要把准 备好的数据共享给消费者线程，利用队列的方式来传递数据，就可以很方便地 解决他们之间的数据共享问题。但如果生产者和消费者在某个时间段内，万一 发生数据处理速度不匹配的情况呢？理想情况下，如果生产者产出数据的速度 大于消费者消费的速度，并且当生产出来的数据累积到一定程度的时候，那么 生产者必须暂停等待一下（阻塞生产者线程），以便等待消费者线程把累积的 数据处理完毕，反之亦然。
### 常见的BlockingQueue
- 基于数组的阻塞队列实现`ArrayBlockingQueue`
- 基于链表的阻塞队列`LinkedBlockingQueue`
